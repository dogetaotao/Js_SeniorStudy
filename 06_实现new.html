<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  //构造函数
  const dog = function (name) {
    this.name = name
  }
  dog.prototype.bark = function (){
    console.log(this.name)
  }

  function _new (fn, ...args){
    const obj = Object.create(fn.prototype)
    const ret = fn.apply(obj, args)
    //如果构造函数执行的返回值是对象，则返回那个对象
    return ret instanceof Object? ret : obj
  }

  let tao = _new(dog, 'taotao')
  tao.bark()
</script>
</body>
</html>